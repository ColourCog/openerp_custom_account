<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>

    <record id="ir_actions_server_cancel_payslip" model="ir.actions.server">
            <field name="sequence" eval="5"/>
            <field name="state">code</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_hr_payslip"/>
            <field name="code">self.cancel_sheet(cr, uid, context.get('active_ids', []),  context=context)</field>
            <field name="condition">True</field>
            <field name="name">Cancel selected Payslips</field>
        </record>

        <record model="ir.values" id="action_batch_cancel_payslip">
            <field name="name">action_batch_cancel_payslip</field>
            <field name="action_id" ref="ir_actions_server_cancel_payslip" />
            <field name="value" eval="'ir.actions.server,' + str(ref('ir_actions_server_cancel_payslip'))" />
            <field name="key">action</field>
            <field name="model_id" ref="model_hr_payslip" />
            <field name="model">hr.payslip</field>
            <field name="key2">client_action_multi</field>
        </record>


    <record id="hr_payroll_rules_irpp_level2_modified" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_category_irpp_calc"/>
        <field name="name">IRPP 50000-130000 (12000)</field>
        <field name="code">IRPP2X</field>
        <field name="sequence">161</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = 0.0
if categories.GROSS &gt; 50000:
    result = -12000.0
    if categories.GROSS &lt;= 130000:
        result = -(categories.GROSS - 50000) * 0.10
        </field>
    </record>

  </data>
</openerp>
